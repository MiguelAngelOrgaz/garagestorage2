<!DOCTYPE html>
<html lang="en" xmlns:th="http://www.thymeleaf.org">
  <head th:replace="fragmentsCabecera::header"/>

  <body>
	<div th:replace="fragmentsCabecera::menu"></div>
    <div class="container">
    	<h3 class="form-heading text-center p-2" th:text="#{titulo.cajas.gestion}"></h3>
	    <form method="POST" class="form-general" th:action="@{/listarCajas}" 
	        enctype="multipart/form-data">
	            	           
	            <div class="form-row">
				  <div class="form-group col12">
				    <label for="inputNombre" class="col-form-label" th:text="#{etiqueta.idCaja}"></label>
				  </div>
				  <div class="form-group col10">
				    <input type="text" name="buscadorIdCaja" th:value="${buscadorIdCaja}" class="form-control" th:attr="placeholder=#{etiqueta.idCaja}">
				  </div>
				  <div class="form-group col13"></div>
				  <div class="form-group col12">
				    <label for="inputHabitacion" class="col-form-label" th:text="#{etiqueta.habitacion}"></label>
				  </div>
				  <div class="form-group col20">
				    <select name="buscadorHabitacion" class="form-control">
				    		<option th:value="''" th:text="Seleccione"></option>
      						 <option th:each="estancia: ${estanciasAll}" th:value="${estancia.idestancia}" 
      						 th:text="${estancia.nombre}" th:selected="${buscadorHabitacion}==${estancia.idestancia}"></option>
   						 </select>
				  </div>
				  <div class="col12">
				    <label for="inputEstanteria" class="col-form-label" th:text="#{etiqueta.estanteria}"></label>
				  </div>
				  <div class="col20">
				    <select name="buscadorEstanteria" class="form-control">
				    		<option th:value="''" th:text="Seleccione"></option>
      						 <option th:each="estanteria: ${estanteriasAll}" th:value="${estanteria.idestanteria}" 
      						 th:text="${estanteria.nombre}" th:selected="${buscadorEstanteria}==${estanteria.idestanteria}"></option>
   						 </select>
				  </div>
				</div>
	            <br>
				<div class="form-row">
				  <div class="form-group col12">
				    <label for="inputDescripcion" class="col-form-label" th:text="#{etiqueta.descripcion}"></label>
				  </div>
				  <div class="form-group col20">
				    <input type="text" name="buscadorDescripcion" th:value="${buscadorDescripcion}" class="form-control" th:attr="placeholder=#{etiqueta.descripcion}">
				  </div>
				  <div class="form-group col3"></div>
				  <div class="form-group col12">
				    <label for="inputBalda" class="col-form-label" th:text="#{etiqueta.balda}"></label>
				  </div>
				  <div class="form-group col10">
				    <input type="text" name="buscadorBalda" th:value="${buscadorBalda}" class="form-control" th:attr="placeholder=#{etiqueta.balda}">
				  </div>
				</div>
				<br>
				<div class="d-flex justify-content-sm-center">
	            <button class="btn btn-primary" type="submit" th:text="#{boton.buscar}" th:title="#{boton.buscar}"></button>
	            </div>
		</form>
    </div>
    <br>
    <div class="container">
		<table class="table">
			<thead class="table-garaje">
				<tr>
					<th scope="col" th:text="#{etiqueta.idCaja}"></th>
					<th scope="col" th:text="#{etiqueta.descripcion}"></th>
					<th scope="col" th:text="#{etiqueta.habitacion}"></th>
					<th scope="col" th:text="#{etiqueta.estanteria}"></th>
					<th scope="col" th:text="#{etiqueta.balda}"></th>
					<th scope="col" th:text="#{etiqueta.posicion}"></th>
					<th scope="col" class="opciones" th:text="#{etiqueta.opciones}"></th>
				</tr>
			</thead>
			<tbody>
				<tr th:if="${cajasForm.empty}">
					<td colspan="8" style="text-align: center;">No hay cajas disponibles</td>
				</tr>
				<tr th:each="caja : ${cajasForm}">
					<td th:text="${caja.idcaja}"></td>
					<td th:text="${caja.descripcion}"></td>
					<td th:text="${caja.balda?.estanteria?.estancia?.nombre}"></td>
					<td th:text="${caja.balda?.estanteria?.nombre}"></td>
					<td th:text="${caja.balda?.idbalda}"></td>
					<td th:text="${caja.posicion}"></td>
					<td>
					<a th:href="@{/obtenerCaja/} + ${caja.idcaja}">
					<img th:src="@{/images/detalle20.png}" id="imagen" class="img-circle" 
					th:title="#{title.caja.detalle}" th:alt="#{title.caja.detalle}"/>
					</a>&nbsp;
					<a th:href="@{/modificarCaja/} + ${caja.idcaja}">
					<img th:src="@{/images/editar20.png}" id="imagen" class="img-circle" 
					th:title="#{title.caja.modificar}" th:alt="#{title.caja.modificar}"/>
					</a>&nbsp;
					<a th:href="@{/eliminarCaja/} + ${caja.idcaja}">
					<img th:src="@{/images/eliminar20.png}" id="imagen" class="img-circle" 
					th:title="#{title.caja.eliminar}" th:alt="#{title.caja.eliminar}"/>
					</a></td>
				</tr>
			</tbody>

		</table>
		

	</div>
	<div class="d-flex justify-content-sm-center">
		<a class="btn btn-primary" th:href="@{nuevaCaja}" role="button" th:text="#{boton.nueva}" 
		th:title="#{title.boton.caja.nueva}" th:alt="#{title.boton.caja.nueva}"></a>
	</div>
 </body>
</html>